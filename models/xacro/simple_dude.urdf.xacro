<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="Robot 7">

<xacro:property name="total_weight" value="75" /> <!--KG-->
<xacro:property name="torso_weight" value="${total_weight * 0.6}" />
<xacro:property name="leg_weight" value="${total_weight * .15}" />
<xacro:property name="arm_weight" value="${total_weight * .05}" />
<!-- Basic Color Macros -->
<xacro:macro name="material_color" params="name color">
    <material name="${name}">
        <color rgba="${color}"/>
    </material>
</xacro:macro>

<!-- Predefined Common Colors -->
<xacro:property name="red" value="1.0 0.0 0.0 1.0"/>
<xacro:property name="green" value="0.0 1.0 0.0 1.0"/>
<xacro:property name="blue" value="0.0 0.0 1.0 1.0"/>
<xacro:property name="yellow" value="1.0 1.0 0.0 1.0"/>
<xacro:property name="cyan" value="0.0 1.0 1.0 1.0"/>
<xacro:property name="magenta" value="1.0 0.0 1.0 1.0"/>
<xacro:property name="white" value="1.0 1.0 1.0 1.0"/>
<xacro:property name="black" value="0.0 0.0 0.0 1.0"/>
<xacro:property name="gray" value="0.5 0.5 0.5 1.0"/>
<xacro:property name="orange" value="1.0 0.5 0.0 1.0"/>
<xacro:property name="purple" value="0.5 0.0 0.5 1.0"/>




<xacro:macro name="solid_sphere_inertia_tensors" params="mass radius" >
    <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <mass value="${weight}"/>
        <inertia 
        ixx="${(2/5) * mass * radius * radius}" ixy="0.0" ixz="0.0" 
        iyy="${(2/5) * mass * radius * radius}" iyz="0.0" 
        izz="${(2/5) * mass * radius * radius}  "/>
    </inertial>
</xacro:macro>

<xacro:macro name="hollow_sphere_inertia_tensors" params="mass radius" >
    <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <mass value="${weight}"/>
        <inertia 
        ixx="${(2/3) * mass * radius * radius}" ixy="0.0" ixz="0.0" 
        iyy="${(2/3) * mass * radius * radius}" iyz="0.0" 
        izz="${(2/3) * mass * radius * radius}  "/>
    </inertial>
</xacro:macro>

<xacro:macro name="cuboid_inertia_tensors" params="mass length" >
    <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <mass value="${mass}"/>
        <inertia 
        ixx="${(mass/12)*((length*length*.025)+(length*length*0.0225))}" ixy="0.0" ixz="0.0" 
        iyy="${(mass/12)*((length*length)+(length*length*0.0225))}" iyz="0.0" 
        izz="${(mass/12)*((length*length)+(length*length*0.025))}"/>
    </inertial>
</xacro:macro>

<xacro:macro name="cuboid" params="name mass x_len y_len z_len origin rpy color">
    <link name="${name}">
        <visual>
            <geometry>
                <box size="${x_len} ${y_len} ${z_len}"/>
            </geometry>
            <origin xyz="${origin}" rpy="${rpy}"/>
            <xacro:material_color name="${color}" color="${color}"/>
        </visual>
        <collision>
            <geometry>
                <box size="${x_len} ${y_len} ${z_len}"/>
            </geometry>
            <origin xyz="${origin}" rpy="${rpy}"/>
        </collision>
        <xacro:cuboid_inertia_tensors mass="${mass}" length="${z_len}"/>
    </link>
</xacro:macro>

<xacro:macro name="revolve" params="name parent child hi lo axis offset">
    <joint name="${name}" type="revolute">
        <parent link="${parent}"/>
        <child link="${child}"/>
        <limit lower="${lo}" upper="${hi}" effort="20.0" velocity="20.0"/>
        <origin xyz="${offset}"/>
        <axis xyz="${axis}"/>
    </joint>
</xacro:macro>




<!-- Torso Links-->
<xacro:cuboid name="base_link" mass="${torso_weight * .12}" x_len=".015" y_len=".035" z_len=".05" origin="0 0 0" rpy="0 0 0" color="${red}"/>
<xacro:cuboid name="head" mass="${torso_weight * .12}" x_len=".015" y_len=".03" z_len=".03" origin="0 0 .015" rpy="0 0 0" color="${orange}"/>
<!-- Torso joints-->
<xacro:revolve name="gaze" parent="base_link" child="head" hi=".8" lo="-.8" axis="0 0 1" offset="0 0 .025"/>

<!-- Arm Links-->
<xacro:cuboid name="left_arm" mass="${leg_weight * .5}" x_len=".015" y_len=".0165" z_len=".05" origin="0 .009 -.025" rpy="0 0 0" color="${green}"/>
<xacro:cuboid name="right_arm" mass="${leg_weight * .5}" x_len=".015" y_len=".0165" z_len=".05" origin="0 -.009 -.025" rpy="0 0 0" color="${green}"/>
<!-- Arm joints-->
<xacro:revolve name="left_shoulder" parent="base_link" child="left_arm" hi=".8" lo="-.8" axis="0 1 0" offset="0 0.0175 .022"/>
<xacro:revolve name="right_shoulder" parent="base_link" child="right_arm" hi=".8" lo="-.8" axis="0 1 0" offset="0 -0.0175 .022"/>

<!-- Leg Links-->
<xacro:cuboid name="left_leg" mass="${leg_weight * .5}" x_len=".015" y_len=".0165" z_len=".05" origin="0 0 -.025" rpy="0 0 0" color="${blue}"/>
<xacro:cuboid name="right_leg" mass="${leg_weight * .5}" x_len=".015" y_len=".0165" z_len=".05" origin="0 0 -.025" rpy="0 0 0" color="${blue}"/>

<!-- Leg joints-->
<xacro:revolve name="left_hip" parent="base_link" child="left_leg" hi=".8" lo="-.8" axis="0 1 0" offset="0 0.008 -.025"/>
<xacro:revolve name="right_hip" parent="base_link" child="right_leg" hi=".8" lo="-.8" axis="0 1 0" offset="0 -0.008 -.025"/>







</robot>
