<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="arm">


    
<xacro:macro name="jointy" params="name offset">
    <link name="${name}">
        <visual>
            <geometry>
                <sphere radius="0.01"/>
            </geometry>
            <origin xyz="${offset}"/>
        </visual>
        <collision>
            <geometry>
                <sphere radius="0.01"/>
            </geometry>
            <origin xyz="${offset}"/>
        </collision>
    </link>
</xacro:macro>

<xacro:macro name="limb" params="name length offset rpy">
    <link name="${name}">
        <visual>
            <geometry>
                <cylinder radius="0.0050" length="${length}"/>
            </geometry>
            <origin xyz="${offset}" rpy="${rpy}"/>
        </visual>
        <collision>
            <geometry>
                <cylinder radius="0.0050" length="${length}"/>
            </geometry>
            <origin xyz="${offset}" rpy="${rpy}"/>
        </collision>
    </link>

</xacro:macro>

<xacro:macro name="affix" params="name parent child">
    <joint name="${name}" type="fixed">
        <parent link="${parent}"/>
        <child link="${child}"/>
    </joint>
</xacro:macro>

<xacro:macro name="revolve" params="name parent child hi lo axis offset">
    <joint name="${name}" type="revolute">
        <parent link="${parent}"/>
        <child link="${child}"/>
        <limit lower="${lo}" upper="${hi}" effort="20.0" velocity="20.0"/>
        <origin xyz="${offset}"/>
        <axis xyz="${axis}"/>
    </joint>
</xacro:macro>

<link name="base_link">
    <visual>
        <geometry>
            <sphere radius="0.01"/>
        </geometry>
    </visual>
    <collision>
        <geometry>
            <sphere radius="0.01"/>
        </geometry>
    </collision>
</link>

<link name="right_foot">
    <visual>
        <geometry>
            <box size="0.04 0.02 0.001"/>
        </geometry>
        <origin xyz=".01 0 -0.0075"/>
    </visual>
    <collision>
        <geometry>
            <box size="0.04 0.02 0.001"/>
        </geometry>
        <origin xyz=".01 0 -0.0075"/>
    </collision>
</link>

<link name="left_foot">
    <visual>
        <geometry>
            <box size="0.04 0.02 0.001"/>
        </geometry>
        <origin xyz=".01 0 -0.0075"/>
    </visual>
    <collision>
        <geometry>
            <box size="0.04 0.02 0.001"/>
        </geometry>
        <origin xyz=".01 0 -0.0075"/>
    </collision>
</link>

<!-- Limbs-->
<xacro:limb name="body" length=".075" offset="0 0 .03" rpy="0 0 0"/>
<xacro:limb name="traps" length=".075" offset="0 0 .075" rpy="${1.57079632679} 0 0"/>

<xacro:limb name="right_bicep" length=".035" offset="0 0 -.025" rpy="0 0 0"/>
<xacro:limb name="left_bicep" length=".035" offset="0 0 -.025" rpy="0 0 0"/>

<xacro:limb name="right_forearm" length=".035" offset="0 0 -.025" rpy="0 0 0"/>
<xacro:limb name="left_forearm" length=".035" offset="0 0 -.025" rpy="0 0 0"/>

<xacro:limb name="right_groin" length=".02" offset="0 -.012 -.012" rpy="-${0.785398} 0 0"/>
<xacro:limb name="left_groin" length=".02" offset="0 .012 -.012" rpy="${0.785398} 0 0"/>

<xacro:limb name="right_thigh" length=".05" offset="0 0 -.03" rpy="0 0 0"/>
<xacro:limb name="left_thigh" length=".05" offset="0 0 -.03" rpy="0 0 0"/>

<xacro:limb name="right_calf" length=".05" offset="0 0 -.03" rpy="0 0 0"/>
<xacro:limb name="left_calf" length=".05" offset="0 0 -.03" rpy="0 0 0"/>



<!-- Joint Balls-->
<xacro:jointy name="pelvis" offset="0 0 0"/> 
<xacro:jointy name="chest" offset="0 0 .075"/>

<xacro:jointy name="right_shoulder" offset="0 -.045 .075"/>
<xacro:jointy name="left_shoulder" offset="0 .045 .075"/>

<xacro:jointy name="right_elbow" offset="0 0 -.05"/>
<xacro:jointy name="left_elbow" offset="0 0 -.05"/>

<xacro:jointy name="right_hip" offset="0 -.025 -.025"/>
<xacro:jointy name="left_hip" offset="0 .025 -.025"/>

<xacro:jointy name="right_knee" offset="0 0 -.06"/>
<xacro:jointy name="left_knee" offset="0 0 -.06"/>

<xacro:jointy name="right_ankle" offset="0 0 -.06"/>
<xacro:jointy name="left_ankle" offset="0 0 -.06"/>

<!-- Fixed Joints-->
<xacro:affix name="body_to_chest" parent="body" child="chest"/>

<xacro:affix name="right_shoulder_to_traps" parent="traps" child="right_shoulder"/>
<xacro:affix name="left_shoulder_to_traps" parent="traps" child="left_shoulder"/>

<xacro:affix name="right_bicep_to_elbow" parent="right_bicep" child="right_elbow"/>
<xacro:affix name="left_bicep_to_elbow" parent="left_bicep" child="left_elbow"/>

<xacro:affix name="pelvis_to_right_groin" parent="pelvis" child="right_groin"/>
<xacro:affix name="pelvis_to_left_groin" parent="pelvis" child="left_groin"/>

<xacro:affix name="right_groin_to_right_hip" parent="right_groin" child="right_hip"/>
<xacro:affix name="left_groin_to_left_hip" parent="left_groin" child="left_hip"/>

<xacro:affix name="right_thigh_to_right_knee" parent="right_thigh" child="right_knee"/>
<xacro:affix name="left_thigh_to_left_knee" parent="left_thigh" child="left_knee"/>

<xacro:affix name="right_calf_to_right_ankle" parent="right_calf" child="right_ankle"/>
<xacro:affix name="left_calf_to_left_ankle" parent="left_calf" child="left_ankle"/>

<!-- Revolute Joints-->
<xacro:revolve name="bend_body" parent="base_link" child="body" lo="-1.2" hi="1.2" axis="0 1 0" offset="0 0 0"/>
<xacro:revolve name="twist_lowbody" parent="base_link" child="pelvis" lo="-1.2" hi="1.2" axis="0 0 1" offset="0 0 0"/>
<xacro:revolve name="twist_shoulders" parent="chest" child="traps" lo="-1.2" hi="1.2" axis="0 0 1" offset="0 0 0"/>
<xacro:revolve name="right_shoulder_lateral" parent="right_shoulder" child="right_bicep" lo="-1.2" hi="1.2" axis="0 1 0" offset="0 -.045 .075"/>
<xacro:revolve name="left_shoulder_lateral" parent="left_shoulder" child="left_bicep" lo="-1.2" hi="1.2" axis="0 1 0" offset="0 .045 .075"/>
<xacro:revolve name="right_elbow_joint" parent="right_elbow" child="right_forearm" lo="-1.2" hi="0" axis="0 1 0" offset="0 0 -.05"/>
<xacro:revolve name="left_elbow_joint" parent="left_elbow" child="left_forearm" lo="-1.2" hi="0" axis="0 1 0" offset="0 0 -.05"/>
<xacro:revolve name="right_hip_flexor" parent="right_hip" child="right_thigh" lo="-1.2" hi="1.2" axis="0 1 0" offset="0 -.025 -.025"/>
<xacro:revolve name="left_hip_flexor" parent="left_hip" child="left_thigh" lo="-1.2" hi="1.2" axis="0 1 0" offset="0 .025 -.025"/>
<xacro:revolve name="right_knee_joint" parent="right_knee" child="right_calf" lo="0" hi="1.2" axis="0 1 0" offset="0 0 -.060"/>
<xacro:revolve name="left_knee_joint" parent="left_knee" child="left_calf" lo="0" hi="1.2" axis="0 1 0" offset="0 0 -.060"/>
<xacro:revolve name="right_ankle_joint" parent="right_ankle" child="right_foot" lo="-.75" hi=".76" axis="0 1 0" offset="0 0 -.060"/>
<xacro:revolve name="left_ankle_joint" parent="left_ankle" child="left_foot" lo="-.75" hi=".76" axis="0 1 0" offset="0 0 -.060"/>


</robot>
